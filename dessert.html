<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dessert</title>
    <link rel="stylesheet" href="css/dessert.css" />
  </head>
  <body>
    <div id="dessertquestion">Which dessert we eatin</div>

    <form id="dessert">
      <div class="dessert-selection">
        <div class="dessert-item">
          <img src="food/cupcake.webp" alt="cupcake" />
          <label
            ><input type="radio" name="dessert" value="cupcake" />
            Cupcake</label
          >
        </div>
        <div class="dessert-item">
          <img src="food/fruit_salad.webp" alt="fruit salad" />
          <label
            ><input type="radio" name="dessert" value="fruit salad" /> Fruit
            salad</label
          >
        </div>
        <div class="dessert-item">
          <img src="food/ice_cream.webp" alt="ice cream" />
          <label
            ><input type="radio" name="dessert" value="ice cream" /> Ice
            cream</label
          >
        </div>
        <div class="dessert-item">
          <img src="food/puff_puff.webp" alt="puff puff" />
          <label
            ><input type="radio" name="dessert" value="puff puff" /> Puff
            puff</label
          >
        </div>
        <div class="dessert-item">
          <img src="food/meat_pie.webp" alt="meat pie" />
          <label
            ><input type="radio" name="dessert" value="meat pie" /> Meat
            pie</label
          >
        </div>
        <div class="dessert-item">
          <img src="food/nothing.jpg" alt="nothing" />
          <label
            ><input type="radio" name="dessert" value="nothing" disabled />
            Nothing (Out of stock ðŸ˜”)</label
          >
        </div>
        <div class="dessert-item">
          <img src="food/money.webp" alt="money" />
          <label
            ><input type="radio" name="dessert" value="money" disabled /> Money
            (Out of stock ðŸ˜­)</label
          >
        </div>
      </div>
      <button type="submit" class="button">Continue Ammy</button>
    </form>
  </body>
  <script>
    const dessertForm = document.getElementById("dessert");

    dessertForm.addEventListener("submit", function (event) {
      event.preventDefault();

      const selectedDessert = dessertForm.querySelector(
        'input[name="dessert"]:checked',
      );

      if (selectedDessert) {
        const dessertValue = selectedDessert.value;
        localStorage.setItem("selectedDessert", dessertValue);
        window.location.href = "suggestion.html";
      } else {
        alert("My LoveðŸ’—, Please select a dessert before submitting.");
      }
    });

    window.addEventListener("load", function () {
      const storedValue = localStorage.getItem("selectedDessert");
      if (storedValue) {
        dessertForm.querySelector(
          'input[name="dessert"][value="' + storedValue + '"]',
        ).checked = true;
      }
    });
  </script>
</html>
