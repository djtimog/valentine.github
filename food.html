<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Food Selection</title>
    <link rel="stylesheet" href="css/food.css" />
  </head>
  <body>
    <div id="foodquestion">
      <b>What food would you like to eat?</b>
    </div>

    <form id="food">
      <div class="food-selection">
        <div class="food-item">
          <img src="food/amala.webp" alt="Amala and ewedu soup" />
          <label
            ><input type="radio" name="food" value="Amala and ewedu soup" />
            Amala and ewedu soup</label
          >
        </div>
        <div class="food-item">
          <img src="food/sharwarma.webp" alt="sharwarma" />
          <label
            ><input type="radio" name="food" value="sharwarma" />
            Sharwarma</label
          >
        </div>
        <div class="food-item">
          <img src="food/white_rice.webp" alt="white rice" />
          <label
            ><input type="radio" name="food" value="white rice" /> White
            rice</label
          >
        </div>
        <div class="food-item">
          <img src="food/jollof_spag.webp" alt="jollof spaghetti" />
          <label
            ><input type="radio" name="food" value="jollof spaghetti" /> Jollof
            spaghetti</label
          >
        </div>
        <div class="food-item">
          <img src="food/jollof_rice.webp" alt="jollof rice" />
          <label
            ><input type="radio" name="food" value="jollof rice" /> Smoked
            jollof rice</label
          >
        </div>
        <div class="food-item">
          <img src="food/fried_x_jollof.webp" alt="fried x jollof" />
          <label
            ><input type="radio" name="food" value="fried x jollof" /> Fried x
            Jollof Rice</label
          >
        </div>
        <div class="food-item">
          <img src="food/money.webp" alt="steak" />
          <label
            ><input type="radio" name="food" value="steak" disabled /> Money
            <b>(Out of stock ðŸ˜­)</b></label
          >
        </div>
      </div>
      <button type="submit" class="button">Continue Ammy</button>
    </form>
  </body>
  <script>
    const foodForm = document.getElementById("food");

    foodForm.addEventListener("submit", function (event) {
      event.preventDefault();

      const selectedFood = foodForm.querySelector('input[name="food"]:checked');

      if (selectedFood) {
        localStorage.setItem("selectedFood", selectedFood.value);
        window.location.href = "dessert.html";
      } else {
        alert("My BabyðŸ˜˜, Please select a food item.");
      }
    });

    window.addEventListener("load", function () {
      const storedValue = localStorage.getItem("selectedFood");
      if (storedValue) {
        foodForm.querySelector(
          'input[name="food"][value="' + storedValue + '"]',
        ).checked = true;
      }
    });
  </script>
</html>
